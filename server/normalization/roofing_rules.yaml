# Roofing Classification Rules
# Used to identify roofing permits from permit_type and work_description fields

permit_types:
  exact_matches:
    - "Roof"
    - "Roofing"
    - "Reroof"
    - "Re-Roof"
    - "Roof Replacement"
    - "Roof Repair"
    - "New Roof"
    - "Roof Addition"
    - "Roof Alteration"
    - "Residential Roof"
    - "Commercial Roof"
    - "Roof Covering"

  partial_matches:
    - "roof"
    - "reroof"
    - "re-roof"

work_description_tokens:
  primary:
    - "roof"
    - "reroof"
    - "re-roof"
    - "roofing"
    - "tear off"
    - "tear-off"
    - "tearoff"
    - "shingle"
    - "shingles"
    - "tile roof"
    - "flat roof"
    - "pitched roof"
    - "metal roof"
    - "asphalt shingle"
    
  materials:
    - "TPO"
    - "EPDM"
    - "PVC"
    - "torch down"
    - "torchdown"
    - "built-up"
    - "modified bitumen"
    - "membrane"
    - "slate"
    - "wood shake"
    - "composite"
    - "clay tile"
    - "concrete tile"
    - "standing seam"
    
  actions:
    - "replace roof"
    - "install roof"
    - "repair roof"
    - "overlay"
    - "recover"
    - "coating"
    - "waterproof"

# Exclusions - if any of these terms appear, do NOT classify as roofing
# This prevents false positives from permits that mention roofing but aren't roofing work
exclusions:
  # Solar-related exclusions
  - "solar panel"
  - "photovoltaic"
  - "PV system"
  - "solar array"
  - "solar installation"
  - "solar mount"
  
  # HVAC-related exclusions
  - "HVAC"
  - "heating"
  - "cooling"
  - "air condition"
  - "furnace"
  - "heat pump"
  - "AC unit"
  - "ventilation"
  
  # Other non-roofing work
  - "satellite dish"
  - "antenna"
  - "skylight only"  # Allow if combined with roofing work
  - "gutter only"     # Allow if combined with roofing work
  - "chimney only"    # Allow if combined with roofing work

# Minimum token match threshold for classification
# If work_description contains at least this many tokens, classify as roofing
min_token_matches: 1

# Case insensitive matching
case_sensitive: false
